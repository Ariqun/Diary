{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/main.js","webpack:///./src/js/modules/calendar/calendar-mini.js","webpack:///./src/js/modules/calendar/calendar.js","webpack:///./src/js/modules/calendar/calendarDOM.js","webpack:///./src/js/modules/calendar/day.js","webpack:///./src/js/modules/calendar/matrix.js","webpack:///./src/js/modules/calendar/stickers.js","webpack:///./src/js/modules/left_side.js","webpack:///./src/js/modules/localStorage.js","webpack:///./src/js/modules/modal.js"],"names":["window","addEventListener","date","Date","LeftSide","init","Calendar","CalendarMini","constructor","selector","container","document","querySelector","createSmallCalendar","matrix","Matrix","CalendarDOM","createListeners","querySelectorAll","forEach","arrow","classList","contains","getFullYear","getMonth","remove","innerHTML","createCalendar","style","showAndHideHoverAnimation","item","add","createPerspectiveAnimation","stick","getAttribute","displayChosenDay","day","clone","cloneNode","clear","Day","flexGrow","width","backToMainScreen","changeMonth","arrOfTypes","checkSelectTypes","checkLocalStorage","flag","degX","degY","animation","transform","requestAnimationFrame","size","createDOM","arrOfMonths","table","createElement","thead","tbody","arrOfDays","i","length","th","appendChild","array","tr","now","td","stickers","dateDay","getDate","getUTCFullYear","append","dateForLocalStorage","createDay","createGraph","time","addZero","num","prepend","scrollDateWithScreen","px","scrollTop","top","displayModal","row","e","target","previousElementSibling","choiceDate","id","Modal","Stickers","createCalendarMatrix","amountOfDays","dayOfWeek","getDay","arr","count","j","push","removeEmptySubArrs","x","subArr","counter","elem","pop","showAndHideExtendSticker","sticker","extend","rules","eventName","eventTime","show","innerText","cssText","getBoundingClientRect","bottom","scrollIntoView","behavior","block","closest","hide","deleteSticker","del","localStorage","removeItem","hideAndShowEventTypes","selectEventTypes","checked","mode","obj","key","identification","eventType","split","createStickersForDay","JSON","parse","yearFromId","createStickersForMonth","substr","type","pushEvent","hourRow","hourInDB","nextElementSibling","dayFromId","month","monthFromId","node","createEventNameAndTimeBlock","createStickerExtend","shortName","createShortName","name","extendBLock","createDateBlock","createDescrBlock","descr","createPeopleAndLocationBlocks","people","join","location","createBirthdayBlocks","dateEventFromDBWithoutYear","replace","yearFromCalendar","fullDate","yearOfBirth","birthDate","age","person","present","arrOfIndexes","sortedArr","sortArrayBySelectedEventTypes","undefined","el","sortArrayByEventTime","sort","a","b","y","createArrayOfIndexesOfExcessItems","repeat","reduce","acc","unshift","indexOf","deleteExcessItemsFromArray","index","splice","createStickers","createStickerDOM","smallSticker","setAttribute","str","createModal","createDate","value","createTask","eventBtns","switchTabs","btn","createReminder","createMeeting","showAdressSuggestions","createBirthday","closeModal","saveEvent","taskDescr","loc","meetingDescr","birthdayDate","displayRedBorder","createID","reverse","input","setItem","stringify","setTimeout","year","sugBlock","suggestion","url","token","query","options","method","headers","body","fetch","then","response","text","result","suggestions","selectSuggestion","catch","error","console","log","focus","objOfTypes","checkTimeInInput","timeInput","defaultTime","changedTime","strOnlyNumbs","strFourNumbs","match","m1","m2"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","'use strict';\r\n\r\nimport Calendar from \"./modules/calendar/calendar\";\r\nimport LeftSide from \"./modules/left_side\";\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\tconst date = new Date();\r\n\r\n\tnew LeftSide('.left_side', date).init();\r\n\tnew Calendar('.calendar_big', date).init();\r\n\t\r\n\r\n});","import CalendarDOM from \"./calendarDOM\";\r\nimport Matrix from \"./matrix\";\r\n\r\nexport default class CalendarMini {\r\n\tconstructor(selector, date) {\r\n\t\tthis.container = document.querySelector(selector);\r\n\t\tthis.selector = selector;\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\tcreateSmallCalendar(date) {\r\n\t\tthis.date = date;\r\n\t\tconst matrix = new Matrix(this.date).init();\r\n\r\n\t\tnew CalendarDOM(this.selector, matrix, date, 'mini').init();\r\n\t}\r\n\r\n\tcreateListeners() {\r\n\t\tdocument.querySelectorAll('.wrapper_for_small_calendar .change_month').forEach((arrow) => {\r\n\t\t\tarrow.addEventListener('click', () => {\r\n\t\t\t\tlet date;\r\n\t\t\t\t\r\n\t\t\t\tif (arrow.classList.contains('prev_month')) {\r\n\t\t\t\t\tdate = new Date(this.date.getFullYear(), this.date.getMonth() - 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdate = new Date(this.date.getFullYear(), this.date.getMonth() + 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.remove();\r\n\t\t\t\tthis.createSmallCalendar(date);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tremove() {\r\n\t\tthis.container.innerHTML = '';\r\n\t\tdocument.querySelectorAll('.wrapper_for_small_calendar .month').innerHTML = '';\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.createSmallCalendar(this.date);\r\n\t\tthis.createListeners();\r\n\t}\r\n}","import Matrix from \"./matrix\";\r\nimport CalendarDOM from \"./calendarDOM\";\r\nimport Day from \"./day\";\r\nimport checkLocalStorage from \"../localStorage\";\r\nimport LeftSide from \"../left_side\";\r\n\r\nexport default class Calendar {\r\n\tconstructor(selector, date) {\r\n\t\tthis.selector = selector;\r\n\t\tthis.container = document.querySelector(selector);\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\tcreateCalendar(date) {\r\n\t\tthis.date = date;\r\n\t\tthis.container.style = '';\r\n\r\n\t\tconst matrix = new Matrix(date).init();\r\n\t\tnew CalendarDOM(this.selector, matrix, date).init();\r\n\t}\r\n\r\n\tcreateListeners() {\r\n\t\tconst showAndHideHoverAnimation = () => {\r\n\t\t\tthis.container.querySelectorAll('.calendar_big .item').forEach((item) => {\r\n\t\t\t\titem.addEventListener('mouseover', () => {\r\n\t\t\t\t\titem.classList.add('hover');\r\n\t\t\t\t\tthis.createPerspectiveAnimation(item);\r\n\t\r\n\t\t\t\t\titem.querySelectorAll('.small_sticker').forEach((stick) => {\r\n\t\t\t\t\t\tstick.innerHTML = `\r\n\t\t\t\t\t\t\t${stick.getAttribute('data-name')} <span>[</span>${stick.getAttribute('data-time')}<span>]</span>\r\n\t\t\t\t\t\t`;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\r\n\t\t\t\titem.addEventListener('mouseout', () => {\r\n\t\t\t\t\titem.classList.remove('hover');\r\n\t\r\n\t\t\t\t\titem.querySelectorAll('.small_sticker').forEach((stick) => {\r\n\t\t\t\t\t\tstick.innerHTML = stick.getAttribute('data-time');\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t\t\r\n\t\tconst displayChosenDay = () => {\r\n\t\t\tthis.container.querySelectorAll('.dateDay').forEach((day) => {\r\n\t\t\t\tday.addEventListener('click', () => {\r\n\t\t\t\t\tconst clone = day.cloneNode(true);\r\n\r\n\t\t\t\t\tthis.clear();\r\n\t\t\t\t\tnew Day(this.date, clone).init();\r\n\t\t\t\t\tdocument.querySelector('.diary').style.flexGrow = '1';\r\n\t\t\t\t\tdocument.querySelector('.right_side').style.width = '0px';\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst backToMainScreen = () => {\r\n\t\t\tdocument.querySelector('header .title').addEventListener('click', () => {\r\n\t\t\t\tconst date = new Date();\r\n\t\t\r\n\t\t\t\tthis.clear();\r\n\t\t\t\tnew Calendar(this.selector, date).init();\r\n\t\t\t\tdocument.querySelector('.right_side').style.width = '64px';\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst changeMonth = () => {\r\n\t\t\tdocument.querySelectorAll('header .change_month').forEach((arrow) => {\r\n\t\t\t\tarrow.addEventListener('click', () => {\r\n\t\t\t\t\tconst arrOfTypes = new LeftSide().checkSelectTypes();\r\n\r\n\t\t\t\t\tlet date;\r\n\t\r\n\t\t\t\t\tif (arrow.classList.contains('prev_month')) {\r\n\t\t\t\t\t\tdate = new Date(this.date.getFullYear(), this.date.getMonth() - 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdate = new Date(this.date.getFullYear(), this.date.getMonth() + 1);\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\tthis.clear();\r\n\t\t\t\t\tthis.createCalendar(date);\r\n\t\t\t\t\tcheckLocalStorage('month', this.date, arrOfTypes);\r\n\t\t\t\t\tshowAndHideHoverAnimation();\r\n\t\t\t\t\tdisplayChosenDay();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tshowAndHideHoverAnimation();\r\n\t\tdisplayChosenDay();\r\n\t\tbackToMainScreen();\r\n\t\tchangeMonth();\r\n\t}\r\n\r\n\t// Анимация каждой ячейки календаря при наведениее мышки\r\n\tcreatePerspectiveAnimation(item) {\r\n\t\tlet flag = true;\r\n\t\tlet degX = 0;\r\n\t\tlet degY = 0;\r\n\t\t\r\n\t\tfunction animation() {\r\n\t\t\tif (flag == true) {\r\n\t\t\t\tdegX += 0.1;\r\n\t\t\t\tdegY += 0.1;\r\n\t\t\t} else {\r\n\t\t\t\t// degX -= 0.05;\r\n\t\t\t\tdegY -= 0.1;\r\n\t\t\t}\r\n\r\n\t\t\tdegX >= 30 ? degX = 30 : null;\r\n\r\n\t\t\tif (degY >= 20) {\r\n\t\t\t\tflag = false;\r\n\t\t\t} else if (degY <= -20) {\r\n\t\t\t\tflag = true;\r\n\t\t\t}\r\n\r\n\t\t\titem.style.transform = `scale(1.5) rotateX(${degX}deg) rotateY(${degY}deg)`;\r\n\r\n\t\t\tif (item.classList.contains('hover')) {\r\n\t\t\t\trequestAnimationFrame(animation);\r\n\t\t\t} else {\r\n\t\t\t\titem.style.transform = '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trequestAnimationFrame(animation);\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.container.innerHTML = '';\r\n\t\tdocument.querySelector('.diary').style = '';\r\n\t\tdocument.querySelectorAll('.day').forEach(item => item.remove());\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.createCalendar(this.date);\r\n\t\tcheckLocalStorage('month', this.date, ['task', 'reminder', 'meeting', 'birthday']);\r\n\t\tthis.createListeners();\r\n\t}\r\n}","export default class CalendarDOM {\r\n\tconstructor(selector, matrix, date, size = 'big') {\r\n\t\tthis.container = document.querySelector(selector);\r\n\t\tthis.matrix = matrix;\r\n\t\tthis.date = date;\r\n\t\tthis.size = size;\r\n\t}\r\n\r\n\tcreateDOM() {\r\n\t\tconst arrOfMonths = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\r\n\t\t\t  table = document.createElement('table'),\r\n\t\t  \t  thead = document.createElement('thead'),\r\n\t\t\t  tbody = document.createElement('tbody');\r\n\t\tlet arrOfDays = [];\r\n\r\n\t\tif (this.size == 'big') {\r\n\t\t\tdocument.querySelector('.current_month .month').innerHTML = `${arrOfMonths[this.date.getMonth()]} ${this.date.getFullYear()}`;\r\n\t\t\tarrOfDays = ['Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота', 'Воскресенье'];\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('.wrapper_for_small_calendar .month').innerHTML = `${arrOfMonths[this.date.getMonth()]} ${this.date.getFullYear()}`;\r\n\t\t\tarrOfDays = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'];\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < arrOfDays.length; i++) {\r\n\t\t\tconst th = document.createElement('th');\r\n\r\n\t\t\tth.innerHTML = arrOfDays[i];\r\n\t\t\tthead.appendChild(th);\r\n\t\t}\r\n\r\n\t\tfor(let array of this.matrix) {\r\n\t\t\tconst tr = document.createElement('tr');\r\n\r\n\t\t\tfor (let i = 0; i < array.length; i++) {\r\n\t\t\t\tconst now = new Date();\r\n\t\t\t\tconst td = document.createElement('td');\r\n\t\t\t\tconst item = document.createElement('div');\r\n\t\t\t\tconst stickers = document.createElement('div');\r\n\t\t\t\tconst dateDay = document.createElement('div');\r\n\r\n\t\t\t\titem.classList.add('item');\r\n\t\t\t\tstickers.classList.add('stickers');\r\n\t\t\t\tdateDay.classList.add('dateDay');\r\n\r\n\t\t\t\tif (array[i] == now.getDate() && this.date.getFullYear() == now.getUTCFullYear() && this.date.getMonth() == now.getMonth()) {\r\n\t\t\t\t\tdateDay.classList.add('today');\r\n\t\t\t\t}\r\n\t\t\t\ti == array.length - 1 || i == array.length - 2 ? dateDay.classList.add('weekend') : null;\r\n\r\n\t\t\t\tdateDay.innerHTML = array[i];\r\n\r\n\t\t\t\titem.append(stickers, dateDay);\r\n\t\t\t\ttd.appendChild(item);\r\n\t\t\t\ttr.appendChild(td);\r\n\t\t\t}\r\n\r\n\t\t\ttbody.appendChild(tr);\r\n\t\t}\r\n\t\t\r\n\t\ttable.append(thead, tbody);\r\n\t\tthis.container.appendChild(table);\r\n\t}\r\n\r\n\tinit() {\r\n\t\treturn this.createDOM();\r\n\t}\r\n}","import checkLocalStorage from \"../localStorage\";\r\nimport Modal from \"../modal\";\r\nimport Stickers from \"./stickers\";\r\n\r\nexport default class Day {\r\n\tconstructor(date, day) {\r\n\t\tthis.date = date;\r\n\t\tthis.day = day;\r\n\t\t// Такой тип даты нужен для сравнения и вывода нужных элементов из localStorage\r\n\t\tthis.dateForLocalStorage = `${this.day.innerHTML}.${this.date.getMonth()}.${this.date.getFullYear()}`;\r\n\t}\r\n\r\n\tcreateDay() {\r\n\t\tconst day = document.createElement('div');\r\n\t\t\t  day.classList.add('day');\r\n\r\n\t\tday.appendChild(this.day);\r\n\t\tdocument.querySelector('.diary').appendChild(day);\r\n\t}\r\n\r\n\tcreateGraph() {\r\n\t\tconst table = document.createElement('table');\r\n\r\n\t\tfor (let i = 1; i <= 24; i++) {\r\n\t\t\tconst tr = document.createElement('tr');\r\n\t\t\tconst td = document.createElement('td');\r\n\t\t\tconst time = document.createElement('div');\r\n\t\t\t\t  time.classList.add('time');\r\n\t\t\t\r\n\t\t\ttime.innerHTML = `${addZero(i)}:00`;\r\n\t\t\ttd.innerHTML = `<div class=\"inner_wrapper\"></div>`;\r\n\r\n\t\t\ttr.append(time, td);\r\n\t\t\ttable.appendChild(tr);\r\n\t\t}\r\n\r\n\t\tfunction addZero(num) {\r\n\t\t\tif (num < 10) {\r\n\t\t\t\treturn `0${num}`;\r\n\t\t\t} else {\r\n\t\t\t\treturn num;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.querySelector('.day').prepend(table);\r\n\t}\r\n\r\n\tcreateListeners() {\r\n\t\tconst scrollDateWithScreen = () => {\r\n\t\t\tdocument.querySelector('.day').addEventListener('scroll', () => {\r\n\t\t\t\tconst px = document.querySelector('.day').scrollTop;\r\n\t\t\t\tdocument.querySelector('.day .dateDay').style.top = `calc(50% - ${200 - px}px)`;\r\n\t\t\t});\r\n\t\t};\r\n\t\t\r\n\t\tconst displayModal = () => {\r\n\t\t\tdocument.querySelectorAll('.day td').forEach((row) => {\r\n\t\t\t\trow.addEventListener('click', (e) => {\r\n\t\t\t\t\tif (e.target.classList.contains('inner_wrapper')) {\r\n\t\t\t\t\t\tconst time = row.previousElementSibling.innerHTML;\r\n\t\t\t\t\t\tconst choiceDate = new Date(this.date.getFullYear(), this.date.getMonth(), this.day.innerHTML);\r\n\r\n\t\t\t\t\t\tdocument.querySelectorAll('.event_types .event').forEach((item) => {\r\n\t\t\t\t\t\t\titem.classList.remove('active');\r\n\r\n\t\t\t\t\t\t\titem.id == 'event_task' ? item.classList.add('active') : null;\r\n\t\t\t\t\t\t});\r\n\t\t\r\n\t\t\t\t\t\tnew Modal(choiceDate, time, row).init();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tscrollDateWithScreen();\r\n\t\tdisplayModal();\r\n\t\tnew Stickers().init();\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.createDay();\r\n\t\tthis.createGraph();\r\n\r\n\t\tcheckLocalStorage('day', this.dateForLocalStorage);\r\n\r\n\t\tthis.createListeners();\r\n\t}\r\n}","export default class Matrix {\r\n\tconstructor(date) {\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\tcreateCalendarMatrix() {\r\n\t\tconst amountOfDays = new Date(this.date.getFullYear(), this.date.getMonth() + 1, 0).getDate();\r\n\t\tconst dayOfWeek = new Date(this.date.getFullYear(), this.date.getMonth(), 1).getDay();\r\n\t\tconst arr = [];\r\n\t\tlet count = 1;\r\n\r\n\t\tfor (let i = 1; i <= 6; i++) {\r\n\t\t\tconst row = [];\r\n\r\n\t\t\tfor (let j = 1; j <= 7; j++) {\r\n\t\t\t\tif (i == 1 && j < dayOfWeek || count > amountOfDays) {\r\n\t\t\t\t\trow.push('');\r\n\t\t\t\t} else {\r\n\t\t\t\t\trow.push(count++);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tarr.push(row);\r\n\t\t}\r\n\r\n\t\tfunction removeEmptySubArrs() {\r\n\t\t\tlet x = 0;\r\n\r\n\t\t\tfor (let subArr of arr) {\r\n\t\t\t\tlet counter = 0;\r\n\r\n\t\t\t\tfor (let elem of subArr) {\r\n\t\t\t\t\telem == '' ? counter++ : null;\r\n\t\r\n\t\t\t\t\tcounter == 7 ? x++ : null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tfor (let i = 0; i < x; i++) {\r\n\t\t\t\tarr.pop();\r\n\t\t\t}\r\n\t\t}\r\n\t\tremoveEmptySubArrs();\r\n\t\t\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tinit() {\r\n\t\treturn this.createCalendarMatrix();\r\n\t}\r\n}","export default class Stickers {\r\n\tconstructor() {\r\n\r\n\t}\r\n\r\n\tshowAndHideExtendSticker() {\r\n\t\tdocument.querySelectorAll('.day .sticker').forEach((sticker) => {\r\n\t\t\tconst extend = sticker.querySelector('.sticker_extend');\r\n\t\t\tconst rules = sticker.querySelector('.sticker_rules');\r\n\t\t\tconst eventName = sticker.querySelector('.event_name');\r\n\t\t\tconst eventTime = sticker.querySelector('.event_time');\r\n\t\r\n\t\t\tfunction show() {\r\n\t\t\t\textend.classList.remove('hidden');\r\n\t\t\t\trules.classList.remove('hidden');\r\n\t\t\t\teventName.innerText = eventName.getAttribute('data-fullName');\r\n\t\r\n\t\t\t\tif (sticker.classList.contains('birthday_sticker')) {\r\n\t\t\t\t\tsticker.style.cssText = `\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\ttop: 0;\r\n\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tfont-size: 18px;\r\n\t\t\t\t\t\tborder: 1px solid rgba(0, 0, 0, 0.5);\r\n\t\t\t\t\t\tbox-shadow: 0px 2px 10px 0px black;\r\n\t\t\t\t\t\tbackground: white;\r\n\t\t\t\t\t\tz-index: 1;\r\n\t\t\t\t\t`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsticker.style.cssText = `\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tmin-width: 300px;\r\n\t\t\t\t\t\tmin-height: 80px;\r\n\t\t\t\t\t\theight: auto;\r\n\t\t\t\t\t\tfont-size: 18px;\r\n\t\t\t\t\t\tborder: 1px solid rgba(0, 0, 0, 0.5);\r\n\t\t\t\t\t\tbox-shadow: 0px 2px 10px 0px black;\r\n\t\t\t\t\t\tbackground: white;\r\n\t\t\t\t\t\tz-index: 1;\r\n\t\t\t\t\t`;\r\n\r\n\t\t\t\t\teventTime.classList.add('hidden');\r\n\r\n\t\t\t\t\tif (sticker.getBoundingClientRect().bottom > 885) {\r\n\t\t\t\t\t\tsticker.scrollIntoView({behavior: 'smooth',\tblock: 'end'});\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tsticker.closest('.sticker_wrapper').style.width = `${sticker.getBoundingClientRect().width + 25}px`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction hide() {\r\n\t\t\t\textend.classList.add('hidden');\r\n\t\t\t\trules.classList.add('hidden');\r\n\t\t\t\teventName.innerText = eventName.getAttribute('data-shortName');\r\n\t\r\n\t\t\t\tsticker.style.cssText = '';\r\n\r\n\t\t\t\tif (!sticker.classList.contains('birthday_sticker')) {\r\n\t\t\t\t\teventTime.classList.remove('hidden');\r\n\t\t\t\t\tsticker.closest('.sticker_wrapper').style.width = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tsticker.addEventListener('mouseover', show);\r\n\t\t\tsticker.addEventListener('mouseout', hide);\r\n\t\t});\r\n\t}\r\n\r\n\t// editSticker() {\r\n\t// \tdocument.querySelectorAll('.sticker .sticker_edit').forEach((edit) => {\r\n\t// \t\tedit.addEventListener('click', () => {\r\n\r\n\t// \t\t});\r\n\t// \t});\r\n\t// }\r\n\r\n\tdeleteSticker() {\r\n\t\tdocument.querySelectorAll('.sticker .sticker_delete').forEach((del) => {\r\n\t\t\tdel.addEventListener('click', () => {\r\n\t\t\t\tconst sticker = del.closest('.sticker');\r\n\t\t\t\t\r\n\t\t\t\tif (del.closest('.birthday_row')) {\r\n\t\t\t\t\tdel.closest('.birthday_row').remove();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdel.closest('.sticker_wrapper').remove();\r\n\t\t\t\t}\r\n\t\t\t\tlocalStorage.removeItem(sticker.id);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.showAndHideExtendSticker();\r\n\t\t// this.editSticker();\r\n\t\tthis.deleteSticker();\r\n\t}\r\n}","import CalendarMini from './calendar/calendar-mini';\r\nimport checkLocalStorage from './localStorage';\r\n\r\nexport default class LeftSide {\r\n\tconstructor(container, date) {\r\n\t\tthis.container = container;\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\tcreateListeners() {\r\n\t\tconst hideAndShowEventTypes = () => {\r\n\t\t\tconst selectEventTypes = () => {\r\n\t\t\t\tconst arrOfTypes = this.checkSelectTypes();\r\n\t\t\t\t\r\n\t\t\t\tdocument.querySelectorAll('.small_sticker').forEach(sticker => sticker.remove());\r\n\r\n\t\t\t\tcheckLocalStorage('month', this.date, arrOfTypes);\r\n\t\t\t};\r\n\r\n\t\t\tdocument.querySelectorAll('.left_side .option input').forEach((item) => {\r\n\t\t\t\titem.addEventListener('change', selectEventTypes);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\thideAndShowEventTypes();\r\n\t}\r\n\r\n\tcheckSelectTypes() {\r\n\t\tconst arrOfTypes = [];\r\n\r\n\t\tdocument.querySelectorAll('.left_side .option input').forEach((item) => {\r\n\t\t\tif (item.id == 'display_tasks' && item.checked == true) {\r\n\t\t\t\tarrOfTypes.push('task');\r\n\t\t\t} else if (item.id == 'display_reminders' && item.checked == true) {\r\n\t\t\t\tarrOfTypes.push('reminder');\r\n\t\t\t} else if (item.id == 'display_meetings' && item.checked == true) {\r\n\t\t\t\tarrOfTypes.push('meeting');\r\n\t\t\t} else if (item.id == 'display_birthday' && item.checked == true) {\r\n\t\t\t\tarrOfTypes.push('birthday');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn arrOfTypes;\r\n\t}\r\n\r\n\tinit() {\r\n\t\tnew CalendarMini('.calendar_small', this.date).init();\r\n\r\n\t\tthis.createListeners();\r\n\t}\r\n}","'use strict';\r\n\r\nconst checkLocalStorage = (mode, date, arrOfTypes) => {\r\n\tconst obj = {...localStorage};\r\n\tlet arr = [];\r\n\t\r\n\tif (mode == 'day') {\r\n\t\tfor (let key in obj) {\r\n\t\t\tif (identification(obj[key])) {\r\n\t\t\t\tconst eventType = key.split('_')[0];\r\n\r\n\t\t\t\tcreateStickersForDay(date, eventType, JSON.parse(obj[key]));\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (mode == 'month') {\r\n\t\tfor (let key in obj) {\r\n\t\t\tif (identification(obj[key])) {\r\n\t\t\t\tif (JSON.parse(obj[key]).id.split('_')[0] != 'birthday') {\r\n\t\t\t\t\tconst yearFromId = JSON.parse(obj[key]).id.split('_')[1].split('.')[2];\r\n\r\n\t\t\t\t\tif (date.getFullYear() == yearFromId) {\r\n\t\t\t\t\t\tarr.push(JSON.parse(obj[key]));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarr.push(JSON.parse(obj[key]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcreateStickersForMonth(date, arr, arrOfTypes);\r\n\t}\r\n\r\n\tfunction identification(item) {\r\n\t\ttry {\r\n\t\t\tconst substr = JSON.parse(item).id.split('_')[0];\r\n\t\t\r\n\t\t\tif (substr == 'task' || substr == 'reminder' || substr == 'meeting' || substr == 'birthday') {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} catch {}\r\n\t}\r\n};\r\n\r\nfunction createStickersForDay(date, type, obj) {\r\n\tfunction pushEvent() {\r\n\t\tdocument.querySelectorAll('.time').forEach((time) => {\r\n\t\t\tconst hourRow = time.innerHTML.substr(0, 2);\r\n\t\t\tconst hourInDB = obj.time.substr(0, 2);\r\n\t\t\t\t\r\n\t\t\tif (type != 'birthday') {\r\n\t\t\t\tif (date == obj.id.split('_')[1]) {\r\n\t\t\t\t\tif (hourRow == hourInDB) {\r\n\t\t\t\t\t\tconst item = document.createElement('div');\r\n\t\t\t\t\t\titem.classList.add('sticker_wrapper');\r\n\t\t\t\t\t\titem.innerHTML = createDOM();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttime.nextElementSibling.querySelector('.inner_wrapper').appendChild(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst day = date.split('.')[0];\r\n\t\t\t\tconst dayFromId = obj.id.split('_')[1].split('.')[0];\r\n\t\t\t\tconst month = date.split('.')[1];\r\n\t\t\t\tconst monthFromId = obj.id.split('_')[1].split('.')[1]\r\n\r\n\t\t\t\tif (day == dayFromId && month == monthFromId && hourRow == hourInDB) {\r\n\t\t\t\t\tconst item = document.createElement('div');\r\n\t\t\t\t\titem.classList.add('birthday_row');\r\n\t\t\t\t\titem.innerHTML = createDOM();\r\n\t\t\t\t\t\r\n\t\t\t\t\tdocument.querySelector('.day').prepend(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction createDOM() {\r\n\t\tlet node = `\r\n\t\t\t<div id=\"${obj.id}\" class=\"sticker ${type}_sticker\">\r\n\t\t\t\t<div class=\"event_header\">\r\n\t\t\t\t\t<div class=\"name_and_time\">\r\n\t\t\t\t\t\t${createEventNameAndTimeBlock()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"sticker_rules hidden\">\r\n\t\t\t\t\t\t<div class=\"sticker_delete\"><img src=\"assets/icons/sticker_delete.png\" alt=\"delete\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"sticker_extend hidden\">\r\n\t\t\t\t\t${createStickerExtend()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\r\n\t\tfunction createEventNameAndTimeBlock() {\r\n\t\t\tlet shortName = createShortName(obj.name);\r\n\t\t\tlet block = '';\r\n\r\n\t\t\tif (type != 'birthday') {\r\n\t\t\t\tblock = `\r\n\t\t\t\t\t<div class=\"event_name\" data-shortName=\"${shortName}\" data-fullName=\"${obj.name}\">\r\n\t\t\t\t\t\t${shortName}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"event_time\">\r\n\t\t\t\t\t\t<span>[</span>${obj.time}<span>]</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t`;\r\n\t\t\t} else {\r\n\t\t\t\tblock = `\r\n\t\t\t\t\t<div class=\"event_name\" data-shortName=\"${obj.name}\" data-fullName=\"${obj.name}\">\r\n\t\t\t\t\t\t${obj.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t`;\r\n\t\t\t}\r\n\t\t\treturn block;\r\n\t\t}\r\n\r\n\t\treturn node;\r\n\t}\r\n\t\r\n\tfunction createStickerExtend() {\r\n\t\tlet extendBLock = '';\r\n\r\n\t\tfunction createDateBlock() {\r\n\t\t\tconst block = `\r\n\t\t\t\t<div class=\"date\">\r\n\t\t\t\t\t<div class=\"icon icon_date\"><img src=\"assets/icons/date.png\" alt=\"date\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Когда:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.date} ${obj.time}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\treturn block;\r\n\t\t}\r\n\r\n\t\tfunction createDescrBlock() {\r\n\t\t\tconst block = `\r\n\t\t\t\t<div class=\"descr\">\r\n\t\t\t\t\t<div class=\"icon icon_descr\"><img src=\"assets/icons/descr.png\" alt=\"descr\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Что:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.descr}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\treturn block;\r\n\t\t}\r\n\r\n\t\tfunction createPeopleAndLocationBlocks() {\r\n\t\t\tconst block = `\r\n\t\t\t\t<div class=\"people\">\r\n\t\t\t\t\t<div class=\"icon icon_people\"><img src=\"assets/icons/people.png\" alt=\"people\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Кто:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.people.join(', ')}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"location\">\r\n\t\t\t\t\t<div class=\"icon icon_loc\"><img src=\"assets/icons/location.png\" alt=\"location\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Где:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.location}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\treturn block;\r\n\t\t}\r\n\r\n\t\tfunction createBirthdayBlocks() {\r\n\t\t\t// Наркомания с датами нужна, чтобы выводить корректную дату и возраст в любой год, а не только в год добавления стикера дня рождения в базу данных.\r\n\t\t\tconst dateEventFromDBWithoutYear = obj.date.replace(/\\d{4}/, '');\r\n\t\t\tconst yearFromCalendar = date.split('.')[2];\r\n\t\t\tconst fullDate = `${dateEventFromDBWithoutYear}${yearFromCalendar}`;\r\n\t\t\t\r\n\t\t\tconst yearOfBirth = obj.birthDate.split('-')[2];\r\n\t\t\tconst age = yearFromCalendar - yearOfBirth;\r\n\r\n\t\t\tconst block = `\r\n\t\t\t\t<div class=\"date\">\r\n\t\t\t\t\t<div class=\"icon icon_date\"><img src=\"assets/icons/date.png\" alt=\"date\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Когда:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${fullDate}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"person\">\r\n\t\t\t\t\t<div class=\"icon icon_person\"><img src=\"assets/icons/person.png\" alt=\"person\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Кто:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.person}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"birthday_date\">\r\n\t\t\t\t\t<div class=\"icon icon_birthday\"><img src=\"assets/icons/birthday.png\" alt=\"birthday\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Дата рождения:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.birthDate}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"age\">\r\n\t\t\t\t\t<div class=\"icon icon_age\"><img src=\"assets/icons/age.png\" alt=\"age\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Возраст:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${age}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"present\">\r\n\t\t\t\t\t<div class=\"icon icon_present\"><img src=\"assets/icons/present.png\" alt=\"present\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Подарок:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.present}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\treturn block;\r\n\t\t}\r\n\r\n\t\tif (type == 'task') {\r\n\t\t\textendBLock = `\r\n\t\t\t\t${createDateBlock()}\r\n\t\t\t\t${createDescrBlock()}\r\n\t\t\t`;\r\n\t\t} else if (type == 'meeting') {\r\n\t\t\textendBLock = `\r\n\t\t\t\t${createDateBlock()}\r\n\t\t\t\t${createPeopleAndLocationBlocks()}\r\n\t\t\t\t${createDescrBlock()}\r\n\t\t\t`;\r\n\t\t} else if (type == 'reminder') {\r\n\t\t\textendBLock = `\r\n\t\t\t\t${createDateBlock()}\r\n\t\t\t`;\r\n\t\t} else if (type == 'birthday') {\r\n\t\t\textendBLock = `\r\n\t\t\t\t${createBirthdayBlocks()}\r\n\t\t\t`;\r\n\t\t}\r\n\t\r\n\t\treturn extendBLock;\r\n\t}\r\n\r\n\tpushEvent();\r\n}\r\n\r\nfunction createStickersForMonth(date, arr, arrOfTypes) {\r\n\tlet arrOfIndexes = [];\r\n\tlet sortedArr = [];\r\n\r\n\tfunction sortArrayBySelectedEventTypes() {\r\n\t\tif (arrOfTypes != undefined) {\r\n\t\t\tfor (let elem of arrOfTypes) {\r\n\t\t\t\tfor (let el of arr) {\r\n\t\t\t\t\tconst type = el.id.split('_')[0];\r\n\t\r\n\t\t\t\t\tif (elem == type) {\r\n\t\t\t\t\t\tsortedArr.push(el);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction sortArrayByEventTime() {\r\n\t\tsortedArr.sort(function(a, b) {\r\n\t\t\tlet x = a.time.replace(/\\D+/g, '');\r\n\t\t\tlet y = b.time.replace(/\\D+/g, '');\r\n\t\t\treturn x - y;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction createArrayOfIndexesOfExcessItems() {\r\n\t\tlet repeat = sortedArr.reduce((acc, el) => {\r\n\t\t\tacc[el.date] = (acc[el.date] || 0) + 1;\r\n\t\r\n\t\t\tif (acc[el.date] > 4) {\r\n\t\t\t\tarrOfIndexes.unshift(sortedArr.indexOf(el));\r\n\t\t\t}\r\n\t\r\n\t\t\treturn acc;\r\n\t\t}, {}, null, 2);\r\n\t}\r\n\r\n\tfunction deleteExcessItemsFromArray() {\r\n\t\tfor (let index of arrOfIndexes) {\r\n\t\t\tsortedArr.splice(index, 1);\r\n\t\t}\r\n\t}\r\n\r\n\t// for (let key in repeat) {\r\n\t// \tif (key.split('.')[0] == day & key.split('.')[1] == month) {\r\n\t// \t\tif (repeat[key] > 4) {\r\n\t// \t\t\tconsole.log(repeat[key] - 4);\r\n\t// \t\t}\r\n\t// \t}\r\n\t// }\r\n\r\n\tfunction createStickers() {\r\n\t\tfor (let obj of sortedArr) {\r\n\t\t\tconst eventType = obj.id.split('_')[0];\r\n\t\t\tconst fullDate = obj.id.split('_')[1];\r\n\t\t\tconst month = fullDate.split('.')[1];\r\n\t\t\tconst day = fullDate.split('.')[0];\r\n\r\n\t\t\tif (date.getMonth() == month) {\r\n\t\t\t\tdocument.querySelectorAll('.calendar_big .dateDay').forEach((item) => {\r\n\t\t\t\t\tif (item.innerHTML == day) {\r\n\t\t\t\t\t\tconst sticker = createStickerDOM(eventType, obj);\r\n\r\n\t\t\t\t\t\titem.previousElementSibling.appendChild(sticker);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction createStickerDOM(type, obj) {\r\n\t\t\tconst smallSticker = document.createElement('div');\r\n\t\t\tlet shortName = createShortName(obj.name);\r\n\t\r\n\t\t\tsmallSticker.classList.add(`${type}_small_sticker`, 'small_sticker');\r\n\t\t\tsmallSticker.setAttribute('data-name', shortName);\r\n\t\t\tsmallSticker.setAttribute('data-time', obj.time);\r\n\t\r\n\t\t\tsmallSticker.innerHTML = `${obj.time}`;\r\n\t\r\n\t\t\treturn smallSticker;\r\n\t\t}\r\n\t}\r\n\r\n\tsortArrayBySelectedEventTypes();\r\n\tsortArrayByEventTime();\r\n\tcreateArrayOfIndexesOfExcessItems();\r\n\tdeleteExcessItemsFromArray();\r\n\tcreateStickers();\r\n}\r\n\r\nfunction createShortName(str) {\r\n\tlet shortName = '';\r\n\r\n\tstr.length > 22 ? shortName = `${str.substr(0, 19)}...` : shortName = str;\r\n\r\n\treturn shortName;\r\n}\r\n\r\nexport default checkLocalStorage;","import Stickers from \"./calendar/stickers\";\r\nimport checkLocalStorage from \"./localStorage\";\r\n\r\nexport default class Modal {\r\n\tconstructor(date, time, row) {\r\n\t\tthis.block = document.querySelector('.event_preferences');\r\n\t\tthis.date = date;\r\n\t\tthis.time = time;\r\n\t\tthis.row = row;\r\n\t\tthis.eventType = 'task';\r\n\t}\r\n\r\n\tcreateModal() {\r\n\t\tdocument.querySelector('.modal_wrapper').classList.remove('hidden');\r\n\r\n\t\tdocument.querySelector('.event_date').innerHTML = this.createDate();\r\n\t\tdocument.querySelector('.event_time input').value = this.time;\r\n\r\n\t\tthis.createTask();\r\n\t}\r\n\r\n\tcreateListeners() {\r\n\t\tconst eventBtns = document.querySelectorAll('.event');\r\n\r\n\t\tconst switchTabs = () => {\r\n\t\t\teventBtns.forEach((btn) => {\r\n\t\t\t\tbtn.addEventListener('click', () => {\r\n\t\t\t\t\teventBtns.forEach(item => item.classList.remove('active'));\r\n\t\t\t\t\tbtn.classList.add('active');\r\n\t\r\n\t\t\t\t\tthis.block.innerHTML = '';\r\n\t\r\n\t\t\t\t\tdocument.querySelector('.event_date').innerHTML = this.createDate();\r\n\t\t\t\t\tdocument.querySelector('.event_time input').value = this.time;\r\n\t\r\n\t\t\t\t\tif (btn.id == 'event_task') {\r\n\t\t\t\t\t\tthis.eventType = 'task';\r\n\t\t\t\t\t\tthis.createTask();\r\n\t\t\t\t\t} else if (btn.id == 'event_reminder') {\r\n\t\t\t\t\t\tthis.eventType = 'reminder';\r\n\t\t\t\t\t\tthis.createReminder();\r\n\t\t\t\t\t} else if (btn.id == 'event_meeting') {\r\n\t\t\t\t\t\tthis.eventType = 'meeting';\r\n\t\t\t\t\t\tthis.createMeeting();\r\n\t\t\t\t\t\tthis.showAdressSuggestions();\r\n\t\t\t\t\t} else if (btn.id == 'event_birthday') {\r\n\t\t\t\t\t\tthis.eventType = 'birthday';\r\n\t\t\t\t\t\tthis.createBirthday();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\tconst closeModal = () => {\r\n\t\t\tdocument.querySelector('.modal_close').addEventListener('click', () => {\r\n\t\t\t\tdocument.querySelector('.modal_wrapper').classList.add('hidden');\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst saveEvent = () => {\r\n\t\t\tdocument.querySelector('.event_save').addEventListener('click', () => {\r\n\t\t\t\tconst name = document.querySelector('.user_event_name input');\r\n\t\t\t\tconst taskDescr = document.querySelector('.task_descr textarea');\r\n\r\n\t\t\t\tconst people = document.querySelector('.meeting_people input');\r\n\t\t\t\tconst loc = document.querySelector('.meeting_location input');\r\n\t\t\t\tconst meetingDescr = document.querySelector('.meeting_descr input');\r\n\r\n\t\t\t\tconst person = document.querySelector('.birthday_person input');\r\n\t\t\t\tconst birthdayDate = document.querySelector('.birthday_date input');\r\n\t\t\t\tconst present = document.querySelector('.birthday_present input');\r\n\r\n\t\t\t\tlet type = '';\r\n\r\n\t\t\t\tdocument.querySelectorAll('.modal_add_event .event').forEach((item) => {\r\n\t\t\t\t\tif (item.classList.contains('active')) {\r\n\t\t\t\t\t\ttype = item.id.split('_')[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (present && present.value == '') {\r\n\t\t\t\t\tpresent.value = 'Подарок не выбран';\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (name.value == '') {\r\n\t\t\t\t\tname.value == '' ? displayRedBorder(name) : null;\r\n\t\t\t\t} else if (type == 'task' && taskDescr.value == '') {\r\n\t\t\t\t\ttaskDescr.value == '' ? displayRedBorder(taskDescr) : null;\r\n\t\t\t\t} else if (type == 'meeting' && (people.value == '' || loc.value == '' || meetingDescr.value == '')) {\r\n\t\t\t\t\tpeople.value == '' ? displayRedBorder(people) : null;\r\n\t\t\t\t\tloc.value == '' ? displayRedBorder(loc): null;\r\n\t\t\t\t\tmeetingDescr.value == '' ? displayRedBorder(meetingDescr) : null;\r\n\t\t\t\t} else if (type == 'birthday' && (person.value == '' || birthdayDate.value == '')) {\r\n\t\t\t\t\tperson.value  == '' ? displayRedBorder(person) : null;\r\n\t\t\t\t\tbirthdayDate.value == '' ? displayRedBorder(birthdayDate) : null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Такой тип даты нужен для сравнения и вывода нужных элементов из localStorage\r\n\t\t\t\t\tconst dateForLocalStorage = this.createDate('localStorage');\r\n\t\t\t\t\tconst time = document.querySelector('.event_time input').value;\r\n\t\t\t\t\tconst id = this.createID(time);\r\n\r\n\t\t\t\t\tconst obj = {\r\n\t\t\t\t\t\t'id': id,\r\n\t\t\t\t\t\t'name': name.value,\r\n\t\t\t\t\t\t'time': time,\r\n\t\t\t\t\t\t'date': this.createDate()\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (this.eventType == 'task') {\r\n\t\t\t\t\t\tobj.descr = taskDescr.value;\r\n\t\t\t\t\t} else if (this.eventType == 'meeting') {\r\n\t\t\t\t\t\tobj.people = people.value.split(',');\r\n\t\t\t\t\t\tobj.location = loc.value;\r\n\t\t\t\t\t\tobj.descr = meetingDescr.value;\r\n\t\t\t\t\t} else if (this.eventType == 'birthday') {\r\n\t\t\t\t\t\tobj.person = person.value;\r\n\t\t\t\t\t\tobj.birthDate = birthdayDate.value.split('-').reverse().join('-');\r\n\t\t\t\t\t\tobj.present = present.value;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdocument.querySelectorAll('.day .sticker_wrapper').forEach(item => item.remove());\r\n\t\t\t\t\tdocument.querySelectorAll('.day .birthday_row').forEach(item => item.remove());\r\n\t\t\t\t\tdocument.querySelectorAll('.modal_wrapper input').forEach(input => input.value = '');\r\n\t\t\t\t\tdocument.querySelector('.modal_wrapper').classList.add('hidden');\r\n\r\n\t\t\t\t\tlocalStorage.setItem(id, JSON.stringify(obj));\r\n\t\t\t\t\tcheckLocalStorage('day', dateForLocalStorage);\r\n\r\n\t\t\t\t\tnew Stickers().init();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfunction displayRedBorder(elem) {\r\n\t\t\t\telem.classList.add('red_border_bottom');\r\n\t\t\t\tsetTimeout(() => {elem.classList.remove('red_border_bottom');}, 2000);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tswitchTabs();\r\n\t\tcloseModal();\r\n\t\tsaveEvent();\r\n\t}\r\n\r\n\tcreateTask() {\r\n\t\tthis.block.innerHTML = `\r\n\t\t\t<div class=\"event_task\">\r\n\t\t\t\t<div class=\"task_descr\">\r\n\t\t\t\t\t<textarea placeholder=\"Описание задачи\"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tcreateReminder() {\r\n\t\tthis.block.innerHTML = `\r\n\t\t\t<div class=\"event_reminder\"></div>\r\n\t\t`;\r\n\t}\r\n\r\n\tcreateMeeting() {\r\n\t\tthis.block.innerHTML = `\r\n\t\t\t<div class=\"event_meeting\">\r\n\t\t\t\t<div class=\"meeting_people\">\r\n\t\t\t\t\t<label><input type=\"text\" placeholder=\"Укажите имена через запятую\"></label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"meeting_location\">\r\n\t\t\t\t\t<label><input type=\"text\" placeholder=\"Укажите место встречи\"></label>\r\n\t\t\t\t\t<div class=\"suggestions\"></div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"meeting_descr\">\r\n\t\t\t\t\t<label><input type=\"text\" placeholder=\"Добавьте описание\"></label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tcreateBirthday() {\r\n\t\tthis.block.innerHTML = `\r\n\t\t\t<div class=\"event_birthday\">\r\n\t\t\t\t<div class=\"birthday_person\">\r\n\t\t\t\t\t<label><input type=\"text\" placeholder=\"Укажите имя именинника или именинницы\"></label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"birthday_date\">\r\n\t\t\t\t\t<label>Укажите дату рождения <input type=\"date\"></label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"birthday_present\">\r\n\t\t\t\t\t<label><input type=\"text\" placeholder=\"Уже выбрали подарок?\"></label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tcreateDate(mode = 'modal') {\r\n\t\tconst arrOfMonths = ['Января', 'Февраля', 'Марта', 'Апреля', 'Мая', 'Июня', 'Июля', 'Августа', 'Сентября', 'Октября', 'Ноября', 'Декабря'];\r\n\t\tconst arrOfDays = ['Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота', 'Воскресенье'];\r\n\t\tconst year = this.date.getFullYear();\r\n\t\tconst month = this.date.getMonth();\r\n\t\tconst dayOfWeek = this.date.getDay();\r\n\t\tconst day = this.date.getDate();\r\n\t\tlet date = '';\r\n\r\n\t\tif (mode == 'modal') {\r\n\t\t\tdate = `${arrOfDays[dayOfWeek - 1]}, ${day} ${arrOfMonths[month]} ${year}`;\r\n\t\t} else {\r\n\t\t\tdate = `${day}.${month}.${year}`; \r\n\t\t}\r\n\t\t\r\n\t\treturn date;\r\n\t}\r\n\r\n\tshowAdressSuggestions() {\r\n\t\tconst sugBlock = document.querySelector('.meeting_location .suggestions');\r\n\t\tconst input = document.querySelector('.meeting_location input');\r\n\t\tinput.addEventListener('input', suggestion);\r\n\r\n\t\tfunction suggestion() {\r\n\t\t\tconst url = \"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address\";\r\n\t\t\tconst token = \"f7f2fe36a577281d7b497460fd089ee837097d0b\";\r\n\t\t\tconst query = input.value;\r\n\r\n\t\t\tconst options = {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tmode: \"cors\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\"Accept\": \"application/json\",\r\n\t\t\t\t\t\"Authorization\": \"Token \" + token\r\n\t\t\t\t},\r\n\r\n\t\t\t\tbody: JSON.stringify({query: query})\r\n\t\t\t};\r\n\r\n\t\t\tfetch(url, options)\r\n\t\t\t\t.then(response => response.text())\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tconst arr = JSON.parse(result).suggestions;\r\n\t\t\t\t\tsugBlock.innerHTML = '';\r\n\r\n\t\t\t\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\t\t\t\tif (arr[i]) {\r\n\t\t\t\t\t\t\tsugBlock.innerHTML += `\r\n\t\t\t\t\t\t\t\t<div class=\"suggestion\">${arr[i].value}</div>\r\n\t\t\t\t\t\t\t`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tselectSuggestion();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => console.log(\"error\", error));\r\n\t\t}\r\n\r\n\t\tfunction selectSuggestion() {\r\n\t\t\tdocument.querySelectorAll('.meeting_location .suggestion').forEach((item) => {\r\n\t\t\t\titem.addEventListener('click', () => {\r\n\t\t\t\t\tinput.value = item.innerHTML;\r\n\t\t\t\t\tinput.focus();\r\n\t\t\t\t\t\r\n\t\t\t\t\tsugBlock.innerHTML = '';\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcreateID(time){\r\n\t\tconst obj = {...localStorage};\r\n\t\tlet id = '';\r\n\t\tlet objOfTypes = {\r\n\t\t\t'task': 0,\r\n\t\t\t'reminder': 0,\r\n\t\t\t'meeting': 0,\r\n\t\t\t'birthday': 0\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tfor (let key in obj) {\r\n\t\t\t\tconst str = JSON.parse(obj[key]).id.split('_')[0];\r\n\t\r\n\t\t\t\tfor (let type in objOfTypes) {\r\n\t\t\t\t\tstr == type ? objOfTypes[type]++ : null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch {}\r\n\r\n\t\tfor (let type in objOfTypes) {\r\n\t\t\tif (this.eventType == type) {\r\n\t\t\t\tid = `${this.eventType}_${this.createDate('localStorage')}_${time}_${objOfTypes[type] + 1}`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn id;\r\n\t}\r\n\r\n\tcheckTimeInInput() {\r\n\t\tconst timeInput = document.querySelector('.event_time input');\r\n\t\tconst defaultTime = timeInput.value;\r\n\r\n\t\ttimeInput.addEventListener('blur', () => {\r\n\t\t\tconst changedTime = timeInput.value;\r\n\r\n\t\t\tif (changedTime == defaultTime || changedTime.length < 5) {\r\n\t\t\t\ttimeInput.value = defaultTime;\r\n\t\t\t} else {\r\n\t\t\t\tconst strOnlyNumbs = changedTime.replace(/\\D+/g, '');\r\n\t\t\t\tconst strFourNumbs = strOnlyNumbs.substr(0, 4);\r\n\t\t\t\tconst result = strFourNumbs.replace(/(\\d{2})(\\d{2})/, (match, m1, m2) => {return `${m1}:${m2}`;});\r\n\r\n\t\t\t\ttimeInput.value = result;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.createModal();\r\n\t\tthis.createListeners();\r\n\t\tthis.checkTimeInInput();\r\n\t}\r\n}"],"sourceRoot":""}