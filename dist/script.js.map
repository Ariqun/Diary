{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/main.js","webpack:///./src/js/modules/calendar/calendar-mini.js","webpack:///./src/js/modules/calendar/calendar.js","webpack:///./src/js/modules/calendar/calendarDOM.js","webpack:///./src/js/modules/calendar/day.js","webpack:///./src/js/modules/calendar/matrix.js","webpack:///./src/js/modules/calendar/stickers.js","webpack:///./src/js/modules/left_side.js","webpack:///./src/js/modules/localStorage.js","webpack:///./src/js/modules/modal.js"],"names":["window","addEventListener","date","Date","LeftSide","init","Calendar","CalendarMini","constructor","selector","container","document","querySelector","createSmallCalendar","matrix","Matrix","CalendarDOM","createListeners","querySelectorAll","forEach","arrow","classList","contains","getFullYear","getMonth","remove","innerHTML","createCalendar","style","showAndHideHoverAnimation","item","add","createPerspectiveAnimation","stick","getAttribute","displayChosenDay","day","clone","cloneNode","clear","Day","flexGrow","backToMainScreen","changeMonth","arrOfTypes","checkSelectTypes","checkLocalStorage","flag","degX","degY","animation","transform","requestAnimationFrame","size","createDOM","arrOfMonths","table","createElement","thead","tbody","arrOfDays","i","length","th","appendChild","array","tr","now","td","stickers","dateDay","getDate","getUTCFullYear","append","dateForLocalStorage","createDay","createGraph","time","addZero","num","prepend","scrollDateWithScreen","px","scrollTop","top","displayModal","row","e","target","previousElementSibling","choiceDate","Modal","Stickers","createCalendarMatrix","amountOfDays","dayOfWeek","getDay","arr","count","j","push","removeEmptySubArrs","x","subArr","counter","elem","pop","showAndHideExtendSticker","sticker","extend","rules","eventName","eventTime","show","innerText","cssText","getBoundingClientRect","bottom","scrollIntoView","behavior","block","closest","width","hide","deleteSticker","del","localStorage","removeItem","id","hideAndShowEventTypes","selectEventTypes","checked","mode","obj","key","eventType","split","createStickersForDay","JSON","parse","createStickersForMonth","type","pushEvent","hourRow","substr","hourInDB","nextElementSibling","shortName","createShortName","name","node","createStickerExtend","extendBLock","createDateBlock","createDescrBlock","descr","createPeopleAndLocationBlocks","people","join","location","arrOfIndexes","sortedArr","sortArrayBySelectedEventTypes","undefined","el","sortArrayByEventTime","sort","a","b","replace","y","createArrayOfIndexesOfExcessItems","repeat","reduce","acc","unshift","indexOf","deleteExcessItemsFromArray","index","splice","createStickers","fullDate","month","createStickerDOM","smallSticker","setAttribute","str","createModal","createDate","value","createTask","eventBtns","switchTabs","btn","createReminder","createMeeting","showAdressSuggestions","closeModal","saveEvent","borderBottom","setTimeout","createID","peopleStr","input","setItem","stringify","objOfTypes","sugBlock","suggestion","url","token","query","options","method","headers","body","fetch","then","response","text","result","suggestions","selectSuggestion","catch","error","console","log","focus","year"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","'use strict';\r\n\r\nimport Calendar from \"./modules/calendar/calendar\";\r\nimport LeftSide from \"./modules/left_side\";\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\tconst date = new Date();\r\n\r\n\tnew LeftSide('.left_side', date).init();\r\n\tnew Calendar('.calendar_big', date).init();\r\n\t\r\n\r\n});","import CalendarDOM from \"./calendarDOM\";\r\nimport Matrix from \"./matrix\";\r\n\r\nexport default class CalendarMini {\r\n\tconstructor(selector, date) {\r\n\t\tthis.container = document.querySelector(selector);\r\n\t\tthis.selector = selector;\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\tcreateSmallCalendar(date) {\r\n\t\tthis.date = date;\r\n\t\tconst matrix = new Matrix(this.date).init();\r\n\r\n\t\tnew CalendarDOM(this.selector, matrix, date, 'mini').init();\r\n\t}\r\n\r\n\tcreateListeners() {\r\n\t\tdocument.querySelectorAll('.wrapper_for_small_calendar .change_month').forEach((arrow) => {\r\n\t\t\tarrow.addEventListener('click', () => {\r\n\t\t\t\tlet date;\r\n\t\t\t\t\r\n\t\t\t\tif (arrow.classList.contains('prev_month')) {\r\n\t\t\t\t\tdate = new Date(this.date.getFullYear(), this.date.getMonth() - 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdate = new Date(this.date.getFullYear(), this.date.getMonth() + 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.remove();\r\n\t\t\t\tthis.createSmallCalendar(date);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tremove() {\r\n\t\tthis.container.innerHTML = '';\r\n\t\tdocument.querySelectorAll('.wrapper_for_small_calendar .month').innerHTML = '';\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.createSmallCalendar(this.date);\r\n\t\tthis.createListeners();\r\n\t}\r\n}","import Matrix from \"./matrix\";\r\nimport CalendarDOM from \"./calendarDOM\";\r\nimport Day from \"./day\";\r\nimport checkLocalStorage from \"../localStorage\";\r\nimport LeftSide from \"../left_side\";\r\n\r\nexport default class Calendar {\r\n\tconstructor(selector, date) {\r\n\t\tthis.selector = selector;\r\n\t\tthis.container = document.querySelector(selector);\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\tcreateCalendar(date) {\r\n\t\tthis.date = date;\r\n\t\tthis.container.style = '';\r\n\r\n\t\tconst matrix = new Matrix(date).init();\r\n\t\tnew CalendarDOM(this.selector, matrix, date).init();\r\n\t}\r\n\r\n\tcreateListeners() {\r\n\t\tconst showAndHideHoverAnimation = () => {\r\n\t\t\tthis.container.querySelectorAll('.calendar_big .item').forEach((item) => {\r\n\t\t\t\titem.addEventListener('mouseover', () => {\r\n\t\t\t\t\titem.classList.add('hover');\r\n\t\t\t\t\tthis.createPerspectiveAnimation(item);\r\n\t\r\n\t\t\t\t\titem.querySelectorAll('.small_sticker').forEach((stick) => {\r\n\t\t\t\t\t\tstick.innerHTML = `\r\n\t\t\t\t\t\t\t${stick.getAttribute('data-name')} <span>[</span>${stick.getAttribute('data-time')}<span>]</span>\r\n\t\t\t\t\t\t`;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\r\n\t\t\t\titem.addEventListener('mouseout', () => {\r\n\t\t\t\t\titem.classList.remove('hover');\r\n\t\r\n\t\t\t\t\titem.querySelectorAll('.small_sticker').forEach((stick) => {\r\n\t\t\t\t\t\tstick.innerHTML = stick.getAttribute('data-time');\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t\t\r\n\t\tconst displayChosenDay = () => {\r\n\t\t\tthis.container.querySelectorAll('.dateDay').forEach((day) => {\r\n\t\t\t\tday.addEventListener('click', () => {\r\n\t\t\t\t\tconst clone = day.cloneNode(true);\r\n\t\r\n\t\t\t\t\tthis.clear();\r\n\t\t\t\t\tnew Day(this.date, clone).init();\r\n\t\t\t\t\tdocument.querySelector('.diary').style.flexGrow = '1';\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst backToMainScreen = () => {\r\n\t\t\tdocument.querySelector('header .title').addEventListener('click', () => {\r\n\t\t\t\tconst date = new Date();\r\n\t\t\r\n\t\t\t\tthis.clear();\r\n\t\t\t\tnew Calendar(this.selector, date).init();\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst changeMonth = () => {\r\n\t\t\tdocument.querySelectorAll('header .change_month').forEach((arrow) => {\r\n\t\t\t\tarrow.addEventListener('click', () => {\r\n\t\t\t\t\tconst arrOfTypes = new LeftSide().checkSelectTypes();\r\n\r\n\t\t\t\t\tlet date;\r\n\t\r\n\t\t\t\t\tif (arrow.classList.contains('prev_month')) {\r\n\t\t\t\t\t\tdate = new Date(this.date.getFullYear(), this.date.getMonth() - 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdate = new Date(this.date.getFullYear(), this.date.getMonth() + 1);\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\tthis.clear();\r\n\t\t\t\t\tthis.createCalendar(date);\r\n\t\t\t\t\tcheckLocalStorage('month', this.date, arrOfTypes);\r\n\t\t\t\t\tshowAndHideHoverAnimation();\r\n\t\t\t\t\tdisplayChosenDay();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tshowAndHideHoverAnimation();\r\n\t\tdisplayChosenDay();\r\n\t\tbackToMainScreen();\r\n\t\tchangeMonth();\r\n\t}\r\n\r\n\t// Анимация каждой ячейки календаря при наведениее мышки\r\n\tcreatePerspectiveAnimation(item) {\r\n\t\tlet flag = true;\r\n\t\tlet degX = 0;\r\n\t\tlet degY = 0;\r\n\t\t\r\n\t\tfunction animation() {\r\n\t\t\tif (flag == true) {\r\n\t\t\t\tdegX += 0.1;\r\n\t\t\t\tdegY += 0.1;\r\n\t\t\t} else {\r\n\t\t\t\t// degX -= 0.05;\r\n\t\t\t\tdegY -= 0.1;\r\n\t\t\t}\r\n\r\n\t\t\tdegX >= 30 ? degX = 30 : null;\r\n\r\n\t\t\tif (degY >= 20) {\r\n\t\t\t\tflag = false;\r\n\t\t\t} else if (degY <= -20) {\r\n\t\t\t\tflag = true;\r\n\t\t\t}\r\n\r\n\t\t\titem.style.transform = `scale(1.5) rotateX(${degX}deg) rotateY(${degY}deg)`;\r\n\r\n\t\t\tif (item.classList.contains('hover')) {\r\n\t\t\t\trequestAnimationFrame(animation);\r\n\t\t\t} else {\r\n\t\t\t\titem.style.transform = '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trequestAnimationFrame(animation);\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.container.innerHTML = '';\r\n\t\tdocument.querySelector('.diary').style = '';\r\n\t\tdocument.querySelectorAll('.day').forEach(item => item.remove());\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.createCalendar(this.date);\r\n\t\tcheckLocalStorage('month', this.date, ['task', 'reminder', 'meeting']);\r\n\t\tthis.createListeners();\r\n\t}\r\n}","export default class CalendarDOM {\r\n\tconstructor(selector, matrix, date, size = 'big') {\r\n\t\tthis.container = document.querySelector(selector);\r\n\t\tthis.matrix = matrix;\r\n\t\tthis.date = date;\r\n\t\tthis.size = size;\r\n\t}\r\n\r\n\tcreateDOM() {\r\n\t\tconst arrOfMonths = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\r\n\t\t\t  table = document.createElement('table'),\r\n\t\t  \t  thead = document.createElement('thead'),\r\n\t\t\t  tbody = document.createElement('tbody');\r\n\t\tlet arrOfDays = [];\r\n\r\n\t\tif (this.size == 'big') {\r\n\t\t\tdocument.querySelector('.current_month .month').innerHTML = `${arrOfMonths[this.date.getMonth()]} ${this.date.getFullYear()}`;\r\n\t\t\tarrOfDays = ['Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота', 'Воскресенье'];\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('.wrapper_for_small_calendar .month').innerHTML = `${arrOfMonths[this.date.getMonth()]} ${this.date.getFullYear()}`;\r\n\t\t\tarrOfDays = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'];\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < arrOfDays.length; i++) {\r\n\t\t\tconst th = document.createElement('th');\r\n\r\n\t\t\tth.innerHTML = arrOfDays[i];\r\n\t\t\tthead.appendChild(th);\r\n\t\t}\r\n\r\n\t\tfor(let array of this.matrix) {\r\n\t\t\tconst tr = document.createElement('tr');\r\n\r\n\t\t\tfor (let i = 0; i < array.length; i++) {\r\n\t\t\t\tconst now = new Date();\r\n\t\t\t\tconst td = document.createElement('td');\r\n\t\t\t\tconst item = document.createElement('div');\r\n\t\t\t\tconst stickers = document.createElement('div');\r\n\t\t\t\tconst dateDay = document.createElement('div');\r\n\r\n\t\t\t\titem.classList.add('item');\r\n\t\t\t\tstickers.classList.add('stickers');\r\n\t\t\t\tdateDay.classList.add('dateDay');\r\n\r\n\t\t\t\tif (array[i] == now.getDate() && this.date.getFullYear() == now.getUTCFullYear() && this.date.getMonth() == now.getMonth()) {\r\n\t\t\t\t\tdateDay.classList.add('today');\r\n\t\t\t\t}\r\n\t\t\t\ti == array.length - 1 || i == array.length - 2 ? dateDay.classList.add('weekend') : null;\r\n\r\n\t\t\t\tdateDay.innerHTML = array[i];\r\n\r\n\t\t\t\titem.append(stickers, dateDay);\r\n\t\t\t\ttd.appendChild(item);\r\n\t\t\t\ttr.appendChild(td);\r\n\t\t\t}\r\n\r\n\t\t\ttbody.appendChild(tr);\r\n\t\t}\r\n\t\t\r\n\t\ttable.append(thead, tbody);\r\n\t\tthis.container.appendChild(table);\r\n\t}\r\n\r\n\tinit() {\r\n\t\treturn this.createDOM();\r\n\t}\r\n}","import checkLocalStorage from \"../localStorage\";\r\nimport Modal from \"../modal\";\r\nimport Stickers from \"./stickers\";\r\n\r\nexport default class Day {\r\n\tconstructor(date, day) {\r\n\t\tthis.date = date;\r\n\t\tthis.day = day;\r\n\t\t// Такой тип даты нужен для сравнения и вывода нужных элементов из localStorage\r\n\t\tthis.dateForLocalStorage = `${this.day.innerHTML}.${this.date.getMonth()}.${this.date.getFullYear()}`;\r\n\t}\r\n\r\n\tcreateDay() {\r\n\t\tconst day = document.createElement('div');\r\n\t\t\t  day.classList.add('day');\r\n\r\n\t\tday.appendChild(this.day);\r\n\t\tdocument.querySelector('.diary').appendChild(day);\r\n\t}\r\n\r\n\tcreateGraph() {\r\n\t\tconst table = document.createElement('table');\r\n\r\n\t\tfor (let i = 1; i <= 24; i++) {\r\n\t\t\tconst tr = document.createElement('tr');\r\n\t\t\tconst td = document.createElement('td');\r\n\t\t\tconst time = document.createElement('div');\r\n\t\t\t\t  time.classList.add('time');\r\n\t\t\t\r\n\t\t\ttime.innerHTML = `${addZero(i)}:00`;\r\n\t\t\ttd.innerHTML = `<div class=\"inner_wrapper\"></div>`;\r\n\r\n\t\t\ttr.append(time, td);\r\n\t\t\ttable.appendChild(tr);\r\n\t\t}\r\n\r\n\t\tfunction addZero(num) {\r\n\t\t\tif (num < 10) {\r\n\t\t\t\treturn `0${num}`;\r\n\t\t\t} else {\r\n\t\t\t\treturn num;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.querySelector('.day').prepend(table);\r\n\t}\r\n\r\n\tcreateListeners() {\r\n\t\tconst scrollDateWithScreen = () => {\r\n\t\t\tdocument.querySelector('.day').addEventListener('scroll', () => {\r\n\t\t\t\tconst px = document.querySelector('.day').scrollTop;\r\n\t\t\t\tdocument.querySelector('.day .dateDay').style.top = `calc(50% - ${200 - px}px)`;\r\n\t\t\t});\r\n\t\t};\r\n\t\t\r\n\t\tconst displayModal = () => {\r\n\t\t\tdocument.querySelectorAll('.day td').forEach((row) => {\r\n\t\t\t\trow.addEventListener('click', (e) => {\r\n\t\t\t\t\tif (e.target.classList.contains('inner_wrapper')) {\r\n\t\t\t\t\t\tconst time = row.previousElementSibling.innerHTML;\r\n\t\r\n\t\t\t\t\t\tconst choiceDate = new Date(this.date.getFullYear(), this.date.getMonth(), this.day.innerHTML);\r\n\t\t\r\n\t\t\t\t\t\tnew Modal(choiceDate, time, row).init();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tscrollDateWithScreen();\r\n\t\tdisplayModal();\r\n\t\tnew Stickers().init();\r\n\t}\r\n\r\n\r\n\tinit() {\r\n\t\tthis.createDay();\r\n\t\tthis.createGraph();\r\n\r\n\t\tcheckLocalStorage('day', this.dateForLocalStorage);\r\n\r\n\t\tthis.createListeners();\r\n\t}\r\n}","export default class Matrix {\r\n\tconstructor(date) {\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\tcreateCalendarMatrix() {\r\n\t\tconst amountOfDays = new Date(this.date.getFullYear(), this.date.getMonth() + 1, 0).getDate();\r\n\t\tconst dayOfWeek = new Date(this.date.getFullYear(), this.date.getMonth(), 1).getDay();\r\n\t\tconst arr = [];\r\n\t\tlet count = 1;\r\n\r\n\t\tfor (let i = 1; i <= 6; i++) {\r\n\t\t\tconst row = [];\r\n\r\n\t\t\tfor (let j = 1; j <= 7; j++) {\r\n\t\t\t\tif (i == 1 && j < dayOfWeek || count > amountOfDays) {\r\n\t\t\t\t\trow.push('');\r\n\t\t\t\t} else {\r\n\t\t\t\t\trow.push(count++);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tarr.push(row);\r\n\t\t}\r\n\r\n\t\tfunction removeEmptySubArrs() {\r\n\t\t\tlet x = 0;\r\n\r\n\t\t\tfor (let subArr of arr) {\r\n\t\t\t\tlet counter = 0;\r\n\r\n\t\t\t\tfor (let elem of subArr) {\r\n\t\t\t\t\telem == '' ? counter++ : null;\r\n\t\r\n\t\t\t\t\tcounter == 7 ? x++ : null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tfor (let i = 0; i < x; i++) {\r\n\t\t\t\tarr.pop();\r\n\t\t\t}\r\n\t\t}\r\n\t\tremoveEmptySubArrs();\r\n\t\t\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tinit() {\r\n\t\treturn this.createCalendarMatrix();\r\n\t}\r\n}","export default class Stickers {\r\n\tconstructor() {\r\n\r\n\t}\r\n\r\n\tshowAndHideExtendSticker() {\r\n\t\tdocument.querySelectorAll('.day .sticker').forEach((sticker) => {\r\n\t\t\tconst extend = sticker.querySelector('.sticker_extend');\r\n\t\t\tconst rules = sticker.querySelector('.sticker_rules');\r\n\t\t\tconst eventName = sticker.querySelector('.event_name');\r\n\t\t\tconst eventTime = sticker.querySelector('.event_time');\r\n\t\r\n\t\t\tfunction show() {\r\n\t\t\t\textend.classList.remove('hidden');\r\n\t\t\t\trules.classList.remove('hidden');\r\n\t\t\t\teventTime.classList.add('hidden');\r\n\t\t\t\teventName.innerText = eventName.getAttribute('data-fullName');\r\n\t\r\n\t\t\t\tsticker.style.cssText = `\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tmin-height: 80px;\r\n\t\t\t\t\theight: auto;\r\n\t\t\t\t\tfont-size: 18px;\r\n\t\t\t\t\tborder: 1px solid rgba(0, 0, 0, 0.5);\r\n\t\t\t\t\tbox-shadow: 0px 2px 10px 0px black;\r\n\t\t\t\t\tbackground: white;\r\n\t\t\t\t\tz-index: 1;\r\n\t\t\t\t`;\r\n\t\t\t\t\r\n\t\t\t\tif (sticker.getBoundingClientRect().bottom > 885) {\r\n\t\t\t\t\tsticker.scrollIntoView({behavior: 'smooth',\tblock: 'end'});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsticker.closest('.sticker_wrapper').style.width = `${sticker.getBoundingClientRect().width + 25}px`;\r\n\t\t\t}\r\n\r\n\t\t\tfunction hide() {\r\n\t\t\t\textend.classList.add('hidden');\r\n\t\t\t\trules.classList.add('hidden');\r\n\t\t\t\teventTime.classList.remove('hidden');\r\n\t\t\t\teventName.innerText = eventName.getAttribute('data-shortName');\r\n\t\r\n\t\t\t\tsticker.style.cssText = '';\r\n\t\t\t\tsticker.closest('.sticker_wrapper').style.width = '';\r\n\t\t\t}\r\n\r\n\t\t\tsticker.addEventListener('mouseover', show);\r\n\t\t\tsticker.addEventListener('mouseout', hide);\r\n\t\t});\r\n\t}\r\n\r\n\t// editSticker() {\r\n\t// \tdocument.querySelectorAll('.sticker .sticker_edit').forEach((edit) => {\r\n\t// \t\tedit.addEventListener('click', () => {\r\n\r\n\t// \t\t});\r\n\t// \t});\r\n\t// }\r\n\r\n\tdeleteSticker() {\r\n\t\tdocument.querySelectorAll('.sticker .sticker_delete').forEach((del) => {\r\n\t\t\tdel.addEventListener('click', () => {\r\n\t\t\t\tconst sticker = del.closest('.sticker');\r\n\r\n\t\t\t\tdel.closest('.sticker_wrapper').remove();\r\n\t\t\t\tlocalStorage.removeItem(sticker.id);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.showAndHideExtendSticker();\r\n\t\t// this.editSticker();\r\n\t\tthis.deleteSticker();\r\n\t}\r\n}","import CalendarMini from './calendar/calendar-mini';\r\nimport checkLocalStorage from './localStorage';\r\n\r\nexport default class LeftSide {\r\n\tconstructor(container, date) {\r\n\t\tthis.container = container;\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\tcreateListeners() {\r\n\t\tconst hideAndShowEventTypes = () => {\r\n\t\t\tconst selectEventTypes = () => {\r\n\t\t\t\tconst arrOfTypes = this.checkSelectTypes();\r\n\t\t\t\t\r\n\t\t\t\tdocument.querySelectorAll('.small_sticker').forEach(sticker => sticker.remove());\r\n\r\n\t\t\t\tcheckLocalStorage('month', this.date, arrOfTypes);\r\n\t\t\t};\r\n\r\n\t\t\tdocument.querySelectorAll('.left_side .option input').forEach((item) => {\r\n\t\t\t\titem.addEventListener('change', selectEventTypes);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\thideAndShowEventTypes();\r\n\t}\r\n\r\n\tcheckSelectTypes() {\r\n\t\tconst arrOfTypes = [];\r\n\r\n\t\tdocument.querySelectorAll('.left_side .option input').forEach((item) => {\r\n\t\t\tif (item.id == 'display_tasks' && item.checked == true) {\r\n\t\t\t\tarrOfTypes.push('task');\r\n\t\t\t} else if (item.id == 'display_reminders' && item.checked == true) {\r\n\t\t\t\tarrOfTypes.push('reminder');\r\n\t\t\t} else if (item.id == 'display_meetings' && item.checked == true) {\r\n\t\t\t\tarrOfTypes.push('meeting');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn arrOfTypes;\r\n\t}\r\n\r\n\tinit() {\r\n\t\tnew CalendarMini('.calendar_small', this.date).init();\r\n\r\n\t\tthis.createListeners();\r\n\t}\r\n}","'use strict';\r\n\r\nconst checkLocalStorage = (mode, date, arrOfTypes) => {\r\n\tconst obj = {...localStorage};\r\n\tlet arr = [];\r\n\r\n\tif (mode == 'day') {\r\n\t\tfor (let key in obj) {\r\n\t\t\tconst eventType = key.split('_')[0];\r\n\t\r\n\t\t\tcreateStickersForDay(date, eventType, JSON.parse(obj[key]));\r\n\t\t}\r\n\t} else if (mode == 'month') {\r\n\t\tfor (let key in obj) {\r\n\t\t\tarr.push(JSON.parse(obj[key]));\r\n\t\t}\r\n\r\n\t\tcreateStickersForMonth(date, arr, arrOfTypes);\r\n\t}\r\n};\r\n\r\nfunction createStickersForDay(date, type, obj) {\r\n\tfunction pushEvent() {\r\n\t\tdocument.querySelectorAll('.time').forEach((time) => {\r\n\t\t\tconst hourRow = time.innerHTML.substr(0, 2);\r\n\t\t\tconst hourInDB = obj.time.substr(0, 2);\r\n\t\r\n\t\t\tif (date == obj.id.split('_')[1]) {\r\n\t\t\t\tif (hourRow == hourInDB) {\r\n\t\t\t\t\tconst item = document.createElement('div');\r\n\t\t\t\t\t\t  item.classList.add('sticker_wrapper');\r\n\t\t\t\t\t\t   item.innerHTML = createDOM();\r\n\t\r\n\t\t\t\t\ttime.nextElementSibling.querySelector('.inner_wrapper').appendChild(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction createDOM() {\r\n\t\tlet shortName = createShortName(obj.name);\r\n\r\n\t\tconst node = `\r\n\t\t\t<div id=\"${obj.id}\" class=\"sticker ${type}_sticker\">\r\n\t\t\t\t<div class=\"event_header\">\r\n\t\t\t\t\t<div class=\"name_and_time\">\r\n\t\t\t\t\t\t<div class=\"event_name\" data-shortName=\"${shortName}\" data-fullName=\"${obj.name}\">\r\n\t\t\t\t\t\t\t${shortName}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"event_time\">\r\n\t\t\t\t\t\t\t<span>[</span>${obj.time}<span>]</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"sticker_rules hidden\">\r\n\t\t\t\t\t\t<div class=\"sticker_delete\"><img src=\"/assets/icons/sticker_delete.png\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"sticker_extend hidden\">\r\n\t\t\t\t\t${createStickerExtend()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\r\n\t\treturn node;\r\n\t}\r\n\t\r\n\tfunction createStickerExtend() {\r\n\t\tlet extendBLock = '';\r\n\r\n\t\tfunction createDateBlock() {\r\n\t\t\tconst block = `\r\n\t\t\t\t<div class=\"date\">\r\n\t\t\t\t\t<div class=\"icon icon_date\"><img src=\"/assets/icons/date.png\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Когда:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.date} ${obj.time}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\treturn block;\r\n\t\t}\r\n\r\n\t\tfunction createDescrBlock() {\r\n\t\t\tconst block = `\r\n\t\t\t\t<div class=\"descr\">\r\n\t\t\t\t\t<div class=\"icon icon_descr\"><img src=\"/assets/icons/descr.png\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Что:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.descr}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\treturn block;\r\n\t\t}\r\n\r\n\t\tfunction createPeopleAndLocationBlocks() {\r\n\t\t\tconst block = `\r\n\t\t\t\t<div class=\"people\">\r\n\t\t\t\t\t<div class=\"icon icon_people\"><img src=\"/assets/icons/people.png\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Кто:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.people.join(', ')}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"location\">\r\n\t\t\t\t\t<div class=\"icon icon_loc\"><img src=\"/assets/icons/location.png\"></div>\r\n\t\t\t\t\t<div class=\"sticker_extend_inner_wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">Где:</div>\r\n\t\t\t\t\t\t<div class=\"value\">${obj.location}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\treturn block;\r\n\t\t}\r\n\r\n\t\tif (type == 'task') {\r\n\t\t\textendBLock = `\r\n\t\t\t\t${createDateBlock()}\r\n\t\t\t\t${createDescrBlock()}\r\n\t\t\t`;\r\n\t\t} else if (type == 'meeting') {\r\n\t\t\textendBLock = `\r\n\t\t\t\t${createDateBlock()}\r\n\t\t\t\t${createPeopleAndLocationBlocks()}\r\n\t\t\t\t${createDescrBlock()}\r\n\t\t\t`;\r\n\t\t} else if (type == 'reminder') {\r\n\t\t\textendBLock = `\r\n\t\t\t\t${createDateBlock()}\r\n\t\t\t`;\r\n\t\t}\r\n\t\r\n\t\treturn extendBLock;\r\n\t}\r\n\r\n\tpushEvent();\r\n}\r\n\r\nfunction createStickersForMonth(date, arr, arrOfTypes) {\r\n\tlet arrOfIndexes = [];\r\n\tlet sortedArr = [];\r\n\r\n\tfunction sortArrayBySelectedEventTypes() {\r\n\t\tif (arrOfTypes != undefined) {\r\n\t\t\tfor (let elem of arrOfTypes) {\r\n\t\t\t\tfor (let el of arr) {\r\n\t\t\t\t\tconst type = el.id.split('_')[0];\r\n\t\r\n\t\t\t\t\tif (elem == type) {\r\n\t\t\t\t\t\tsortedArr.push(el);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction sortArrayByEventTime() {\r\n\t\tsortedArr.sort(function(a, b) {\r\n\t\t\tlet x = a.time.replace(/\\D+/g, '');\r\n\t\t\tlet y = b.time.replace(/\\D+/g, '');\r\n\t\t\treturn x - y;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction createArrayOfIndexesOfExcessItems() {\r\n\t\tlet repeat = sortedArr.reduce((acc, el) => {\r\n\t\t\tacc[el.date] = (acc[el.date] || 0) + 1;\r\n\t\r\n\t\t\tif (acc[el.date] > 4) {\r\n\t\t\t\tarrOfIndexes.unshift(sortedArr.indexOf(el));\r\n\t\t\t}\r\n\t\r\n\t\t\treturn acc;\r\n\t\t}, {}, null, 2);\r\n\t}\r\n\r\n\tfunction deleteExcessItemsFromArray() {\r\n\t\tfor (let index of arrOfIndexes) {\r\n\t\t\tsortedArr.splice(index, 1);\r\n\t\t}\r\n\t}\r\n\r\n\t// for (let key in repeat) {\r\n\t// \tif (key.split('.')[0] == day & key.split('.')[1] == month) {\r\n\t// \t\tif (repeat[key] > 4) {\r\n\t// \t\t\tconsole.log(repeat[key] - 4);\r\n\t// \t\t}\r\n\t// \t}\r\n\t// }\r\n\r\n\tfunction createStickers() {\r\n\t\tfor (let obj of sortedArr) {\r\n\t\t\tconst eventType = obj.id.split('_')[0];\r\n\t\t\tconst fullDate = obj.id.split('_')[1];\r\n\t\t\tconst month = fullDate.split('.')[1];\r\n\t\t\tconst day = fullDate.split('.')[0];\r\n\t\r\n\t\t\tif (date.getMonth() == month) {\r\n\t\t\t\tdocument.querySelectorAll('.calendar_big .dateDay').forEach((item) => {\r\n\t\t\t\t\tif (item.innerHTML == day) {\r\n\t\t\t\t\t\tconst sticker = createStickerDOM(eventType, obj);\r\n\t\r\n\t\t\t\t\t\titem.previousElementSibling.appendChild(sticker);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction createStickerDOM(type, obj) {\r\n\t\t\tconst smallSticker = document.createElement('div');\r\n\t\t\tlet shortName = createShortName(obj.name);\r\n\t\r\n\t\t\tsmallSticker.classList.add(`${type}_small_sticker`, 'small_sticker');\r\n\t\t\tsmallSticker.setAttribute('data-name', shortName);\r\n\t\t\tsmallSticker.setAttribute('data-time', obj.time);\r\n\t\r\n\t\t\tsmallSticker.innerHTML = `${obj.time}`;\r\n\t\r\n\t\t\treturn smallSticker;\r\n\t\t}\r\n\t}\r\n\r\n\tsortArrayBySelectedEventTypes();\r\n\tsortArrayByEventTime();\r\n\tcreateArrayOfIndexesOfExcessItems();\r\n\tdeleteExcessItemsFromArray();\r\n\tcreateStickers();\r\n}\r\n\r\nfunction createShortName(str) {\r\n\tlet shortName = '';\r\n\r\n\tstr.length > 22 ? shortName = `${str.substr(0, 19)}...` : shortName = str;\r\n\r\n\treturn shortName;\r\n}\r\n\r\nexport default checkLocalStorage;","import Stickers from \"./calendar/stickers\";\r\nimport checkLocalStorage from \"./localStorage\";\r\n\r\nexport default class Modal {\r\n\tconstructor(date, time, row) {\r\n\t\tthis.block = document.querySelector('.event_preferences');\r\n\t\tthis.date = date;\r\n\t\tthis.time = time;\r\n\t\tthis.row = row;\r\n\t\tthis.eventType = 'task';\r\n\t}\r\n\r\n\tcreateModal() {\r\n\t\tdocument.querySelector('.modal_wrapper').classList.remove('hidden');\r\n\r\n\t\tdocument.querySelector('.event_date').innerHTML = this.createDate();\r\n\t\tdocument.querySelector('.event_time input').value = this.time;\r\n\r\n\t\tthis.createTask();\r\n\t}\r\n\r\n\tcreateListeners() {\r\n\t\tconst eventBtns = document.querySelectorAll('.event');\r\n\r\n\t\tconst switchTabs = () => {\r\n\t\t\teventBtns.forEach((btn) => {\r\n\t\t\t\tbtn.addEventListener('click', () => {\r\n\t\t\t\t\teventBtns.forEach(item => item.classList.remove('active'));\r\n\t\t\t\t\tbtn.classList.add('active');\r\n\t\r\n\t\t\t\t\tthis.block.innerHTML = '';\r\n\t\r\n\t\t\t\t\tdocument.querySelector('.event_date').innerHTML = this.createDate();\r\n\t\t\t\t\tdocument.querySelector('.event_time input').value = this.time;\r\n\t\r\n\t\t\t\t\tif (btn.id == 'event_task') {\r\n\t\t\t\t\t\tthis.eventType = 'task';\r\n\t\t\t\t\t\tthis.createTask();\r\n\t\t\t\t\t} else if (btn.id == 'event_reminder') {\r\n\t\t\t\t\t\tthis.eventType = 'reminder';\r\n\t\t\t\t\t\tthis.createReminder();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.eventType = 'meeting';\r\n\t\t\t\t\t\tthis.createMeeting();\r\n\t\t\t\t\t\tshowAdressSuggestions();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t\t\r\n\t\tconst closeModal = () => {\r\n\t\t\tdocument.querySelector('.modal_close').addEventListener('click', () => {\r\n\t\t\t\tdocument.querySelector('.modal_wrapper').classList.add('hidden');\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst saveEvent = () => {\r\n\t\t\tdocument.querySelector('.event_save').addEventListener('click', () => {\r\n\t\t\t\tconst name = document.querySelector('.user_event_name input');\r\n\r\n\t\t\t\tif (name.value == '') {\r\n\t\t\t\t\tname.style.borderBottom = '2px solid red';\r\n\t\t\t\t\tsetTimeout(() => {name.style.cssText = '';}, 2000);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Такой тип даты нужен для сравнения и вывода нужных элементов из localStorage\r\n\t\t\t\t\tconst dateForLocalStorage = this.createDate('localStorage');\r\n\t\t\t\t\tconst time = document.querySelector('.event_time input').value;\r\n\t\t\t\t\tconst id = createID(time);\r\n\r\n\t\t\t\t\tconst obj = {\r\n\t\t\t\t\t\t'id': id,\r\n\t\t\t\t\t\t'name': name.value,\r\n\t\t\t\t\t\t'time': time,\r\n\t\t\t\t\t\t'date': this.createDate()\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (this.eventType == 'task') {\r\n\t\t\t\t\t\tconst descr = document.querySelector('.task_descr textarea').value;\r\n\r\n\t\t\t\t\t\tobj.descr = descr;\r\n\t\t\t\t\t} else if (this.eventType == 'meeting') {\r\n\t\t\t\t\t\tconst location = document.querySelector('.meeting_location input').value;\r\n\t\t\t\t\t\tconst descr = document.querySelector('.meeting_descr input').value;\r\n\t\t\t\t\t\tconst peopleStr = document.querySelector('.meeting_people input').value;\r\n\t\t\t\t\t\tconst people = peopleStr.split(',');\r\n\r\n\t\t\t\t\t\tobj.location = location;\r\n\t\t\t\t\t\tobj.descr = descr;\r\n\t\t\t\t\t\tobj.people = people;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdocument.querySelectorAll('.day .sticker_wrapper').forEach(item => item.remove());\r\n\t\t\t\t\tdocument.querySelectorAll('.modal_wrapper input').forEach(input => input.value = '');\r\n\t\t\t\t\tdocument.querySelector('.modal_wrapper').classList.add('hidden');\r\n\r\n\t\t\t\t\tlocalStorage.setItem(id, JSON.stringify(obj));\r\n\t\t\t\t\tcheckLocalStorage('day', dateForLocalStorage);\r\n\r\n\t\t\t\t\tnew Stickers().init();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tconst createID = (time) => {\r\n\t\t\t\tconst obj = {...localStorage};\r\n\t\t\t\tlet id = '';\r\n\t\t\t\tlet objOfTypes = {\r\n\t\t\t\t\t'task': 0,\r\n\t\t\t\t\t'reminder': 0,\r\n\t\t\t\t\t'meeting': 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfor (let key in obj) {\r\n\t\t\t\t\tconst str = JSON.parse(obj[key]).id.split('_')[0];\r\n\r\n\t\t\t\t\tfor (let type in objOfTypes) {\r\n\t\t\t\t\t\tstr == type ? objOfTypes[type]++ : null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (let type in objOfTypes) {\r\n\t\t\t\t\tif (this.eventType == type) {\r\n\t\t\t\t\t\tid = `${this.eventType}_${this.createDate('localStorage')}_${time}_${objOfTypes[type] + 1}`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn id;\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\tconst showAdressSuggestions = () => {\r\n\t\t\tconst sugBlock = document.querySelector('.meeting_location .suggestions');\r\n\t\t\tconst input = document.querySelector('.meeting_location input');\r\n\t\t\tinput.addEventListener('input', suggestion);\r\n\r\n\t\t\tfunction suggestion() {\r\n\t\t\t\tconst url = \"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address\";\r\n\t\t\t\tconst token = \"f7f2fe36a577281d7b497460fd089ee837097d0b\";\r\n\t\t\t\tconst query = input.value;\r\n\t\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tmode: \"cors\",\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t\"Accept\": \"application/json\",\r\n\t\t\t\t\t\t\"Authorization\": \"Token \" + token\r\n\t\t\t\t\t},\r\n\t\r\n\t\t\t\t\tbody: JSON.stringify({query: query})\r\n\t\t\t\t};\r\n\t\r\n\t\t\t\tfetch(url, options)\r\n\t\t\t\t\t.then(response => response.text())\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\tconst arr = JSON.parse(result).suggestions;\r\n\t\t\t\t\t\tsugBlock.innerHTML = '';\r\n\r\n\t\t\t\t\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\t\t\t\t\tif (arr[i]) {\r\n\t\t\t\t\t\t\t\tsugBlock.innerHTML += `\r\n\t\t\t\t\t\t\t\t\t<div class=\"suggestion\">${arr[i].value}</div>\r\n\t\t\t\t\t\t\t\t`;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tselectSuggestion();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => console.log(\"error\", error));\r\n\t\t\t}\r\n\r\n\t\t\tfunction selectSuggestion() {\r\n\t\t\t\tdocument.querySelectorAll('.meeting_location .suggestion').forEach((item) => {\r\n\t\t\t\t\titem.addEventListener('click', () => {\r\n\t\t\t\t\t\tinput.value = item.innerHTML;\r\n\t\t\t\t\t\tinput.focus();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsugBlock.innerHTML = '';\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tswitchTabs();\r\n\t\tcloseModal();\r\n\t\tsaveEvent();\r\n\t}\r\n\r\n\tcreateTask() {\r\n\t\tthis.block.innerHTML = `\r\n\t\t\t<div class=\"event_task\">\r\n\t\t\t\t<div class=\"task_descr\">\r\n\t\t\t\t\t<textarea placeholder=\"Описание задачи\"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tcreateReminder() {\r\n\t\tthis.block.innerHTML = `\r\n\t\t\t<div class=\"event_reminder\"></div>\r\n\t\t`;\r\n\t}\r\n\r\n\tcreateMeeting() {\r\n\t\tthis.block.innerHTML = `\r\n\t\t\t<div class=\"event_meeting\">\r\n\t\t\t\t<div class=\"meeting_people\">\r\n\t\t\t\t\t<label><input type=\"text\" placeholder=\"Укажите имена через запятую\"></label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"meeting_location\">\r\n\t\t\t\t\t<label><input type=\"text\" placeholder=\"Укажите место встречи\"></label>\r\n\t\t\t\t\t<div class=\"suggestions\"></div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"meeting_descr\">\r\n\t\t\t\t\t<label><input type=\"text\" placeholder=\"Добавьте описание\"></label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tcreateDate(mode = 'modal') {\r\n\t\tconst arrOfMonths = ['Января', 'Февраля', 'Марта', 'Апреля', 'Мая', 'Июня', 'Июля', 'Августа', 'Сентября', 'Октября', 'Ноября', 'Декабря'];\r\n\t\tconst arrOfDays = ['Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота', 'Воскресенье'];\r\n\t\tconst year = this.date.getFullYear();\r\n\t\tconst month = this.date.getMonth();\r\n\t\tconst dayOfWeek = this.date.getDay();\r\n\t\tconst day = this.date.getDate();\r\n\t\tlet date = '';\r\n\r\n\t\tif (mode == 'modal') {\r\n\t\t\tdate = `${arrOfDays[dayOfWeek - 1]}, ${day} ${arrOfMonths[month]} ${year}`;\r\n\t\t} else {\r\n\t\t\tdate = `${day}.${month}.${year}`; \r\n\t\t}\r\n\t\t\r\n\t\treturn date;\r\n\t}\r\n\r\n\t// checkTimeInInput() {\r\n\t// \tdocument.querySelector('.modal_time input').addEventListener('change', () => {\r\n\t// \t\tconst str = document.querySelector('.modal_time input').value;\r\n\t\t\t\r\n\t// \t});\r\n\t// }\r\n\r\n\tinit() {\r\n\t\tthis.createModal();\r\n\t\tthis.createListeners();\r\n\t\t// this.checkTimeInInput();\r\n\t}\r\n}"],"sourceRoot":""}